{% extends 'conf/base.html' %}

{% load i18n static %}
{% load account %}

{% block title %}{{ page_title }}{% endblock %}

{% block content %}
    <div class="container">
        <h1 class="center page-heading">{{ page_title }}</h1>

        {% if confirmation %}

            {% user_display confirmation.email_address.user as user_display %}

            <div class="row center-align">
                <p class="col s12">
                    {% blocktrans with confirmation.email_address.email as email %}Please confirm that
                        <a href="mailto:{{ email }}">{{ email }}</a> is an e-mail address for user {{ user_display }}
                        .{% endblocktrans %}</p>
            </div>

            <div class="row center-align">
                <form method="post" action="{% url 'account_confirm_email' confirmation.key %}">
                    {% csrf_token %}
                    <button type="submit" class="btn waves-effect waves-light cyan">
                        <i class="fas fa-check fa-fw"></i>
                        {% trans 'Confirm' %}
                    </button>
                </form>
            </div>

        {% else %}
            {% url 'account_email' as email_url %}

            <div class="row center-align">
                <p class="col s12 deep-orange-text darken-4">
                    {% trans 'This e-mail confirmation link expired or is invalid.' %}
                </p>
                <p class="col s12">
                    {% blocktrans %}
                        Please <a href="{{ email_url }}">issue a new e-mail confirmation request</a>.
                    {% endblocktrans %}
                </p>
            </div>

        {% endif %}
    </div>
{% endblock %}

{% block stylesheet %}
    {{ block.super }}
    <link rel="stylesheet" href="{% static "member/css/member.css" %}">
{% endblock %}